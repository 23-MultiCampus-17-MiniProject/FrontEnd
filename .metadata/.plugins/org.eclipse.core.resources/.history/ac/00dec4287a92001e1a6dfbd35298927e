<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="a">
<insert id="insertBoardDTO" parameterType="boarddto">
insert into board(title, contents, writer, pw, viewcount, writingtime) values(#{title},#{contents} ,#{writer},#{pw} , 0, now())
</insert>
<select id="selectPasingBoardlist" parameterType="hashmap" resultType="boarddto">
select * from board order by writingtime desc limit #{idxStart}, #{pagecount}
</select>
<select id="getTotalBoard" resultType="int">
select count(*) from board
</select>
<select id="selectOneBoard" resultType="boarddto" parameterType="int">
select * from board where seq = #{seq}
</select>
<update id="increViewcount" parameterType="int">
update board set viewcount = (select viewcount where seq = #{seq}) + 1 where seq = #{seq}
</update>
</mapper>